app.factory("productsCRUD",function($http,$q,$resource){return{create:function(product){var deferred=$q.defer();var prod=$resource("/api/products/");var p=new prod(product);p.$save().then(function(){deferred.resolve()},function(response){deferred.reject(response)});return deferred.promise},"delete":function(product){var deferred=$q.defer();var prod=$resource("/api/:id",{id:"@_id"},{remove:{method:"DELETE",isArray:false}});var p=new prod(product);p.$delete().then(function(){deferred.resolve()},function(response){deferred.reject(response)});return deferred.promise},update:function(product){var deferred=$q.defer();var prod=$resource("/api/:id",{},{update:{method:"PUT",params:{id:"@_id"}}});var p=new prod(product);p.pros=product.pros;p.cons=product.cons;p.flagIsNew=product.flagIsNew;p.name=product.name;p.keyWords=product.keyWords||"n/a";p.category=product.category||"n/a";p.$update().then(function(){deferred.resolve()},function(response){deferred.reject(response)});return deferred.promise}}});